<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Changelog - RoLocate</title>
  <link rel="icon" href="../assets/logo.svg" type="image/svg+xml">
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&display=swap');

    * { margin: 0; padding: 0; box-sizing: border-box; }

    body {
      font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
      background: #1a1a1a;
      color: #e0e0e0;
      line-height: 1.6;
      overflow-x: hidden;
    }

    nav {
      background: rgba(26, 26, 26, 0.95);
      backdrop-filter: blur(10px);
      padding: 16px 0;
      position: fixed;
      width: 100%;
      top: 0;
      z-index: 1000;
      border-bottom: 1px solid rgba(255, 255, 255, 0.08);
    }

    .nav-container {
      max-width: 1280px;
      margin: 0 auto;
      padding: 0 32px;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }

    .logo {
      display: flex;
      align-items: center;
      gap: 12px;
      text-decoration: none;
      color: #dc2626;
      font-size: 1.25rem;
      font-weight: 700;
      transition: color 0.2s;
    }

    .logo:hover { color: #ef4444; }
    .logo img { width: 28px; height: 28px; border-radius: 6px; }

    .nav-links {
      display: flex;
      list-style: none;
      gap: 32px;
      align-items: center;
    }

    .nav-links a {
      color: #999;
      text-decoration: none;
      transition: color 0.2s ease;
      font-weight: 500;
      font-size: 0.95rem;
    }

    .nav-links a:hover { color: #ffffff; }
    .nav-links a.active { color: #ffffff; text-decoration: underline; }

    .nav-icons { display: flex; gap: 16px; align-items: center; }

    .nav-icon {
      width: 28px;
      height: 28px;
      opacity: 0.7;
      transition: opacity 0.2s, transform 0.2s;
      color: #e8eaed;
    }

    .nav-icon:hover { opacity: 1; transform: translateY(-2px); }

    /* Page header */
    .page-header {
      max-width: 860px;
      margin: 0 auto;
      padding: 120px 32px 56px;
      border-bottom: 1px solid rgba(255,255,255,0.06);
    }

    .page-header h1 {
      font-size: 3rem;
      font-weight: 800;
      color: #ffffff;
      margin-bottom: 10px;
    }

    .page-header p { color: #666; font-size: 1rem; }

    /* Versions */
    .versions {
      max-width: 860px;
      margin: 0 auto;
      padding: 0 32px 100px;
    }

    .version-block {
      padding: 52px 0;
      border-bottom: 1px solid rgba(255,255,255,0.06);
    }

    .version-block:last-child { border-bottom: none; }

    .version-top {
      display: flex;
      align-items: center;
      gap: 14px;
      margin-bottom: 6px;
    }

    .version-number {
      font-size: 1.75rem;
      font-weight: 800;
      color: #ffffff;
    }

    .version-badge {
      font-size: 0.7rem;
      font-weight: 700;
      padding: 3px 10px;
      border-radius: 20px;
      text-transform: uppercase;
      letter-spacing: 0.06em;
    }

    .version-badge.major { background: rgba(220,38,38,0.12); color: #ef4444; border: 1px solid rgba(220,38,38,0.2); }
    .version-badge.minor { background: rgba(249,115,22,0.12); color: #fb923c; border: 1px solid rgba(249,115,22,0.2); }
    .version-badge.patch { background: rgba(107,114,128,0.12); color: #9ca3af; border: 1px solid rgba(107,114,128,0.2); }

    .version-meta {
      display: flex;
      align-items: center;
      gap: 16px;
      margin-bottom: 28px;
    }

    .version-date {
      color: #555;
      font-size: 0.875rem;
      font-weight: 500;
    }

    .version-desc {
      color: #777;
      font-size: 0.875rem;
    }

    /* Change groups */
    .change-groups {
      display: flex;
      flex-direction: column;
      gap: 28px;
    }

    .change-group h3 {
      font-size: 0.75rem;
      font-weight: 700;
      text-transform: uppercase;
      letter-spacing: 0.1em;
      margin-bottom: 12px;
      display: flex;
      align-items: center;
      gap: 8px;
    }

    .change-group.added h3   { color: #22c55e; }
    .change-group.improved h3 { color: #3b82f6; }
    .change-group.fixed h3   { color: #f59e0b; }
    .change-group.removed h3 { color: #ef4444; }

    .change-group ul {
      list-style: none;
      display: flex;
      flex-direction: column;
      gap: 8px;
    }

    .change-group ul li {
      color: #bbb;
      font-size: 0.925rem;
      padding-left: 20px;
      position: relative;
      line-height: 1.6;
    }

    .change-group.added ul li::before   { content: '+'; position: absolute; left: 0; color: #22c55e; font-weight: 700; }
    .change-group.improved ul li::before { content: '↑'; position: absolute; left: 0; color: #3b82f6; font-weight: 700; }
    .change-group.fixed ul li::before   { content: '✓'; position: absolute; left: 0; color: #f59e0b; font-weight: 700; }
    .change-group.removed ul li::before { content: '−'; position: absolute; left: 0; color: #ef4444; font-weight: 700; }

    .no-changes { color: #444; font-size: 0.875rem; font-style: italic; }

    footer {
      text-align: center;
      padding: 48px 32px;
      border-top: 1px solid rgba(255, 255, 255, 0.08);
    }

    footer p { color: #999; font-size: 0.9rem; }

    @media (max-width: 768px) {
      .page-header h1 { font-size: 2.2rem; }
      .nav-links { display: none; }
      .version-number { font-size: 1.4rem; }
    }

    ::-webkit-scrollbar { width: 10px; }
    ::-webkit-scrollbar-track { background: #1a1a1a; }
    ::-webkit-scrollbar-thumb { background: #dc2626; border-radius: 5px; }
    ::-webkit-scrollbar-thumb:hover { background: #ef4444; }
  </style>
</head>
<body>

  <nav>
    <div class="nav-container">
      <a href="../" class="logo">
        <img src="../assets/logo.svg" alt="RoLocate">
        <span>RoLocate</span>
      </a>
      <ul class="nav-links">
        <li><a href="../">Home</a></li>
        <li><a href="../install/">Install</a></li>
        <li><a class="active" href="#">Changelog</a></li>
        <li><a href="../faq/">FAQ</a></li>
        <li>
          <a href="https://greasyfork.org/en/scripts/523727-rolocate/feedback" target="_blank">Support</a>
          <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2" width="12" height="12" style="margin-left:-1px; transform: translateY(2px);">
            <path d="M5 19L19 5M10 5h9v9" stroke-linecap="round" stroke-linejoin="round"/>
          </svg>
        </li>
      </ul>
      <div class="nav-icons">
        <a href="https://github.com/Oqarshi/RoLocate" target="_blank">
          <svg class="nav-icon" viewBox="0 0 24 24" fill="currentColor">
            <path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"/>
          </svg>
        </a>
        <a href="https://greasyfork.org/en/scripts/523727-rolocate" target="_blank">
          <svg class="nav-icon" viewBox="0 0 24 24" fill="currentColor">
            <path d="M5.89 2.227a0.28 0.28 0 0 1 0.266 0.076l5.063 5.062c0.54 0.54 0.509 1.652 -0.031 2.192l8.771 8.77c1.356 1.355 -0.36 3.097 -1.73 1.728l-8.772 -8.77c-0.54 0.54 -1.651 0.571 -2.191 0.031l-5.063 -5.06c-0.304 -0.304 0.304 -0.911 0.608 -0.608l3.714 3.713L7.59 8.297 3.875 4.582c-0.304 -0.304 0.304 -0.911 0.607 -0.607l3.715 3.714 1.067 -1.066L5.549 2.91c-0.228 -0.228 0.057 -0.626 0.342 -0.683ZM12 0C5.374 0 0 5.375 0 12s5.374 12 12 12c6.625 0 12 -5.375 12 -12S18.625 0 12 0Z"/>
          </svg>
        </a>
      </div>
    </div>
  </nav>

  <div class="page-header">
    <h1>Changelog</h1>
    <p>The Changelog for RoLocate updates, improvements, and fixes.</p>
  </div>

  <div class="versions" id="versions">
    <p style="color:#555; padding: 60px 0; text-align:center;">Loading...</p>
  </div>

  <footer>
    <p>&copy; 2026 RoLocate. Open-source project available under a Custom License – Personal Use Only.</p>
  </footer>

  <script>
    const GROUP_CFG = {
      added:    { label: 'Added',    icon: '+', cls: 'added' },
      improved: { label: 'Improved', icon: '↑', cls: 'improved' },
      fixed:    { label: 'Fixed',    cls: 'fixed' },
      removed:  { label: 'Removed', cls: 'removed' },
    };

    function formatDate(str) {
      const d = new Date(str);
      return isNaN(d) ? str : d.toLocaleDateString(undefined, { year: 'numeric', month: 'long', day: 'numeric' });
    }

    function buildBlock(v) {
      const hasChanges = v.changes && Object.values(v.changes).some(a => a?.length);

      const groupsHtml = hasChanges
        ? Object.entries(GROUP_CFG).map(([key, meta]) => {
            const items = v.changes[key];
            if (!items?.length) return '';
            return `<div class="change-group ${meta.cls}">
              <h3>${meta.label}</h3>
              <ul>${items.map(i => `<li>${i}</li>`).join('')}</ul>
            </div>`;
          }).join('')
        : `<p class="no-changes">No detailed changes listed.</p>`;

      const descHtml = v.description
        ? `<span class="version-desc">-&nbsp&nbsp ${v.description}</span>`
        : '';

      return `
        <div class="version-block">
          <div class="version-top">
            <span class="version-number">v${v.version}</span>
            <span class="version-badge ${v.type}">${v.type}</span>
          </div>
          <div class="version-meta">
            <span class="version-date">${formatDate(v.date)}</span>
            ${descHtml}
          </div>
          <div class="change-groups">${groupsHtml}</div>
        </div>`;
    }

    async function init() {
      const container = document.getElementById('versions');
      try {
        const res = await fetch('changelog.json');
        if (!res.ok) throw new Error(`HTTP ${res.status}`);
        const data = await res.json();
        container.innerHTML = data.versions.map(buildBlock).join('');
      } catch (e) {
        container.innerHTML = `<p style="color:#dc2626;text-align:center;padding:60px 0;">Failed to load changelog. Make sure <code>changelog.json</code> is in the parent directory.</p>`;
        console.error(e);
      }
    }

    init();
  </script>
</body>
</html>